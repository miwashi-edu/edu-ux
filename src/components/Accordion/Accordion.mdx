import { Meta, Markdown } from '@storybook/addon-docs/blocks';
import * as AccordionStories from './Accordion.stories.jsx';

<Meta of={AccordionStories} />

# Accordion

A versatile accordion component that provides collapsible content sections with smooth animations and comprehensive accessibility features.

## What is an Accordion?

An accordion is a UI component that displays a list of items where each item can be expanded or collapsed to show or hide its content. It's commonly used for:

- **FAQ sections**: Organizing frequently asked questions and answers
- **Navigation menus**: Creating collapsible navigation structures
- **Content organization**: Breaking down large content into digestible sections
- **Settings panels**: Grouping related settings and options

## Features

- **Multiple Variants**: Default, bordered, flat, and card styles
- **Flexible Expansion**: Single or multiple item expansion
- **Accessibility**: Full keyboard navigation and ARIA support
- **Responsive**: Mobile-first design with adaptive sizing
- **Customizable**: Custom icons, themes, and styling options
- **TypeScript Ready**: Full type definitions included

## Basic Usage

```jsx
import React from 'react';
import { Accordion } from './Accordion';

function BasicAccordion() {
  return (
    <Accordion>
      <Accordion.Item itemId="item-1">
        <Accordion.Header itemId="item-1">What is an accordion?</Accordion.Header>
        <Accordion.Content itemId="item-1">
          <p>An accordion is a collapsible content component that helps organize information into expandable sections.</p>
        </Accordion.Content>
      </Accordion.Item>
      
      <Accordion.Item itemId="item-2">
        <Accordion.Header itemId="item-2">How do I use it?</Accordion.Header>
        <Accordion.Content itemId="item-2">
          <p>Simply wrap your content in Accordion.Item components with Accordion.Header and Accordion.Content.</p>
        </Accordion.Content>
      </Accordion.Item>
    </Accordion>
  );
}
```

## Variants

### Default
The standard accordion with subtle borders and hover effects.

```jsx
<Accordion variant="default">
  {/* Accordion items */}
</Accordion>
```

### Bordered
Accordion with clear borders around each item for better visual separation.

```jsx
<Accordion variant="bordered">
  {/* Accordion items */}
</Accordion>
```

### Flat
Minimal accordion without borders or shadows for clean, modern designs.

```jsx
<Accordion variant="flat">
  {/* Accordion items */}
</Accordion>
```

### Card
Accordion with card-like styling including shadows and rounded corners.

```jsx
<Accordion variant="card">
  {/* Accordion items */}
</Accordion>
```

## Multiple Expansion

Enable multiple items to be expanded simultaneously.

```jsx
<Accordion allowMultiple={true}>
  <Accordion.Item itemId="item-1">
    <Accordion.Header itemId="item-1">First Item</Accordion.Header>
    <Accordion.Content itemId="item-1">
      <p>This content can be expanded alongside other items.</p>
    </Accordion.Content>
  </Accordion.Item>
  
  <Accordion.Item itemId="item-2">
    <Accordion.Header itemId="item-2">Second Item</Accordion.Header>
    <Accordion.Content itemId="item-2">
      <p>Multiple items can be open at the same time.</p>
    </Accordion.Content>
  </Accordion.Item>
</Accordion>
```

## Custom Icons

Replace the default chevron icon with custom icons.

```jsx
<Accordion>
  <Accordion.Item itemId="item-1">
    <Accordion.Header 
      itemId="item-1" 
      icon={<span>ðŸ“–</span>}
    >
      Documentation
    </Accordion.Header>
    <Accordion.Content itemId="item-1">
      <p>Documentation content here...</p>
    </Accordion.Content>
  </Accordion.Item>
</Accordion>
```

## Controlled Usage

For advanced use cases, control the accordion state externally.

```jsx
import React, { useState } from 'react';
import { Accordion } from './Accordion';

function ControlledAccordion() {
  const [expandedItems, setExpandedItems] = useState(['item-1']);

  const handleToggle = (items) => {
    setExpandedItems(items);
    console.log('Expanded items:', items);
  };

  return (
    <Accordion 
      allowMultiple={true}
      defaultExpanded={['item-1']}
      onToggle={handleToggle}
    >
      <Accordion.Item itemId="item-1">
        <Accordion.Header itemId="item-1">Controlled Item</Accordion.Header>
        <Accordion.Content itemId="item-1">
          <p>This accordion state is controlled externally.</p>
        </Accordion.Content>
      </Accordion.Item>
    </Accordion>
  );
}
```

## API Reference

### Accordion Props

<Markdown>{`
| Prop | Type | Default | Description |
|------|------|---------|-------------|
| \`children\` | \`ReactNode\` | - | Accordion items to render |
| \`className\` | \`string\` | \`''\` | Additional CSS classes |
| \`variant\` | \`'default' \\| 'bordered' \\| 'flat' \\| 'card'\` | \`'default'\` | Visual variant of the accordion |
| \`allowMultiple\` | \`boolean\` | \`false\` | Allow multiple items to be expanded simultaneously |
| \`defaultExpanded\` | \`string[]\` | \`[]\` | Array of item IDs that should be expanded by default |
| \`onToggle\` | \`(expandedItems: string[]) => void\` | - | Callback fired when accordion items are toggled |
`}</Markdown>

### Accordion.Item Props

<Markdown>{`
| Prop | Type | Default | Description |
|------|------|---------|-------------|
| \`children\` | \`ReactNode\` | - | Accordion header and content |
| \`className\` | \`string\` | \`''\` | Additional CSS classes |
| \`itemId\` | \`string\` | - | Unique identifier for the accordion item |
| \`disabled\` | \`boolean\` | \`false\` | Disable the accordion item |
`}</Markdown>

### Accordion.Header Props

<Markdown>{`
| Prop | Type | Default | Description |
|------|------|---------|-------------|
| \`children\` | \`ReactNode\` | - | Header content |
| \`className\` | \`string\` | \`''\` | Additional CSS classes |
| \`itemId\` | \`string\` | - | Unique identifier for the accordion item |
| \`disabled\` | \`boolean\` | \`false\` | Disable the header interaction |
| \`icon\` | \`ReactNode\` | - | Custom icon to replace the default chevron |
`}</Markdown>

### Accordion.Content Props

<Markdown>{`
| Prop | Type | Default | Description |
|------|------|---------|-------------|
| \`children\` | \`ReactNode\` | - | Content to display when expanded |
| \`className\` | \`string\` | \`''\` | Additional CSS classes |
| \`itemId\` | \`string\` | - | Unique identifier for the accordion item |
`}</Markdown>

## Best Practices

### Content Organization
- Use clear, descriptive headers that summarize the content
- Keep content concise and well-structured
- Consider the user's mental model when organizing items

### Accessibility
- Ensure each accordion item has a unique `itemId`
- Provide meaningful content that doesn't rely solely on visual cues
- Test with keyboard navigation and screen readers

### Performance
- Avoid deeply nested accordions within accordions
- Consider lazy loading for large content sections
- Use appropriate animation durations (200-300ms)

### Responsive Design
- Test accordion behavior on various screen sizes
- Ensure touch targets are appropriately sized (minimum 44px)
- Consider mobile-first design principles
